<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Varun Amin</title>
  <!-- Preconnect to external domains for faster loading -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <!-- Load fonts with display swap for faster text rendering -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- LHS Sidebar Nav (Desktop) -->
  <aside class="site-sidebar">
    <img src="images/logo.svg" alt="" class="sidebar-logo-img" onerror="this.style.display='none'">
    <a href="index.html" class="sidebar-logo">VARUN AMIN</a>
    <nav class="sidebar-nav">
      <a href="index.html">Home</a>
      <a href="about.html">About Me</a>
      <a href="travel.html">Travel Portfolio</a>
      <a href="blog.html">Blog</a>
    </nav>
  </aside>

  <!-- Mobile Header -->
  <header class="mobile-header">
    <a href="index.html" class="mobile-logo">
      <img src="images/logo.svg" alt="" class="mobile-logo-img">
      VARUN AMIN
    </a>
    <button type="button" class="menu-toggle" aria-expanded="false" aria-label="Toggle menu" onclick="toggleMenu()">
      <span></span><span></span><span></span>
    </button>
  </header>
  <nav class="mobile-nav" id="mobile-nav">
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="about.html">About Me</a></li>
      <li><a href="travel.html">Travel Portfolio</a></li>
      <li><a href="blog.html">Blog</a></li>
    </ul>
  </nav>

  <!-- Main Content -->
  <div class="main-content">
    <main>
      <!-- Hero -->
      <section class="hero">
        <h1><span>Hey</span><span>I'm Varun üëãüèæ</span></h1>
      </section>

      <!-- Rotating Photo Panel -->
      <section class="photo-carousel-section">
        <div class="photo-carousel" id="photo-carousel">
          <button class="carousel-nav prev" aria-label="Previous slide">&#8249;</button>
          <button class="carousel-nav next" aria-label="Next slide">&#8250;</button>
          <div class="carousel-track" id="carousel-track">
            <div class="carousel-slide active">
              <img src="images/france/paris-2.jpeg" alt="Sunset at the Eiffel Tower" fetchpriority="high">
              <div class="carousel-caption">
                <p class="carousel-location">Paris, France</p>
                <p class="carousel-title">Sunset at the Eiffel Tower</p>
              </div>
            </div>
            <div class="carousel-slide">
              <img src="images/usa/newyork2.jpeg" alt="Manhattan Bridge from Dumbo" loading="lazy">
              <div class="carousel-caption">
                <p class="carousel-location">New York, USA</p>
                <p class="carousel-title">Manhattan Bridge from Dumbo</p>
              </div>
            </div>
            <div class="carousel-slide">
              <img src="images/iceland/j√∂kuls√°rl√≥n (1).jpeg" alt="J√∂kuls√°rl√≥n glacial lagoon" loading="lazy">
              <div class="carousel-caption">
                <p class="carousel-location">J√∂kuls√°rl√≥n, Iceland</p>
                <p class="carousel-title">J√∂kuls√°rl√≥n Glacial Lagoon</p>
              </div>
            </div>
            <div class="carousel-slide">
              <img src="images/indonesia/kelingking-beach.jpeg" alt="Kelingking Beach" loading="lazy">
              <div class="carousel-caption">
                <p class="carousel-location">Nusa Penida, Indonesia</p>
                <p class="carousel-title">Kelingking Beach</p>
              </div>
            </div>
            <div class="carousel-slide">
              <img src="images/italy/venice-1.jpg" alt="Gondolas in Venice" loading="lazy">
              <div class="carousel-caption">
                <p class="carousel-location">Venice, Italy</p>
                <p class="carousel-title">Gondolas in Venice</p>
              </div>
            </div>
          </div>
        </div>
        <div class="carousel-dots" id="carousel-dots"></div>
      </section>

      <!-- Recently Published Posts -->
      <section class="section">
        <div class="container">
          <div class="section-header">
            <p class="section-label">Blog</p>
            <h2 class="section-title">Recently Published Posts</h2>
          </div>
          <div class="blog-list" id="substack-home-preview">
            <!-- Loading state - will be replaced by JS -->
            <div class="blog-list-item">
              <span class="blog-list-title">Loading posts...</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Recent Travels -->
      <section class="section">
        <div class="container">
          <div class="section-header">
            <p class="section-label">Travel Photography</p>
            <h2 class="section-title">Recent Travels</h2>
          </div>
          <div class="travel-grid-home" id="home-travel-grid">
            <div class="photo-card" data-index="0">
              <img src="images/iceland/reykjav√≠k.jpeg" alt="Reykjav√≠k" loading="lazy">
              <div class="photo-card-overlay">
                <p class="photo-card-location">Iceland</p>
                <p class="photo-card-title">Reykjav√≠k from Hallgr√≠mskirkja Church</p>
              </div>
            </div>
            <div class="photo-card" data-index="1">
              <img src="images/japan/kyoto2.jpeg" alt="Fushimi Inari" loading="lazy">
              <div class="photo-card-overlay">
                <p class="photo-card-location">Kyoto, Japan</p>
                <p class="photo-card-title">Fushimi Inari Taisha</p>
              </div>
            </div>
            <div class="photo-card" data-index="2">
              <img src="images/france/paris-3.jpeg" alt="Eiffel Tower" loading="lazy">
              <div class="photo-card-overlay">
                <p class="photo-card-location">Paris, France</p>
                <p class="photo-card-title">Flowers in front of the Eiffel Tower</p>
              </div>
            </div>
            <div class="photo-card" data-index="3">
              <img src="images/indonesia/mount-batur.jpeg" alt="Mount Batur" loading="lazy">
              <div class="photo-card-overlay">
                <p class="photo-card-location">Bali, Indonesia</p>
                <p class="photo-card-title">Mount Batur Sunrise Hike</p>
              </div>
            </div>
            <div class="photo-card" data-index="4">
              <img src="images/usa/san-francisco.jpg" alt="Golden Gate" loading="lazy">
              <div class="photo-card-overlay">
                <p class="photo-card-location">San Francisco, USA</p>
                <p class="photo-card-title">Golden Gate Bridge</p>
              </div>
            </div>
            <div class="photo-card" data-index="5">
              <img src="images/italy/venice-1.jpg" alt="Venice" loading="lazy">
              <div class="photo-card-overlay">
                <p class="photo-card-location">Venice, Italy</p>
                <p class="photo-card-title">Gondolas in Venice</p>
              </div>
            </div>
            <div class="photo-card" data-index="6">
              <img src="images/uk/london.jpeg" alt="Tower Bridge" loading="lazy">
              <div class="photo-card-overlay">
                <p class="photo-card-location">London, UK</p>
                <p class="photo-card-title">Sunset overlooking Tower Bridge</p>
              </div>
            </div>
            <div class="photo-card" data-index="7">
              <img src="images/cambodia/angkorwat.jpeg" alt="Angkor Wat" loading="lazy">
              <div class="photo-card-overlay">
                <p class="photo-card-location">Angkor Wat, Cambodia</p>
                <p class="photo-card-title">Angkor Wat at Sunrise</p>
              </div>
            </div>
            <div class="photo-card" data-index="8">
              <img src="images/singapore/singapore-2.jpeg" alt="Singapore" loading="lazy">
              <div class="photo-card-overlay">
                <p class="photo-card-location">Singapore</p>
                <p class="photo-card-title">Singapore Skyline at Night</p>
              </div>
            </div>
          </div>
          <div class="view-more-container">
            <a href="travel.html" class="view-more-btn">View Full Portfolio</a>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
      <div class="footer-inner">
        <p class="footer-logo">VARUN AMIN</p>
        <nav class="footer-nav">
          <a href="index.html">Home</a>
          <a href="about.html">About Me</a>
          <a href="travel.html">Travel Portfolio</a>
          <a href="blog.html">Blog</a>
        </nav>
        <div class="footer-social">
          <a href="https://www.instagram.com/shotsbyvarun/" target="_blank" rel="noopener" aria-label="Instagram">
            <svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
          </a>
          <a href="https://www.linkedin.com/in/varun-amin/" target="_blank" rel="noopener" aria-label="LinkedIn">
            <svg fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
          </a>
        </div>
        <p class="footer-copy">¬© 2026 Varun Amin. All rights reserved.</p>
      </div>
    </footer>
  </div>

  <script src="substack-feed.js"></script>
  <script>
    function toggleMenu() {
      var btn = document.querySelector('.menu-toggle');
      var nav = document.getElementById('mobile-nav');
      var open = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', !open);
      nav.classList.toggle('open', !open);
    }

    // Photo Carousel with dynamic Ken Burns effect
    (function() {
      const track = document.getElementById('carousel-track');
      const slides = track.querySelectorAll('.carousel-slide');
      const dotsContainer = document.getElementById('carousel-dots');
      const prevBtn = document.querySelector('.carousel-nav.prev');
      const nextBtn = document.querySelector('.carousel-nav.next');
      let currentSlide = 0;
      let autoplayInterval;

      // Create dots
      slides.forEach((_, i) => {
        const dot = document.createElement('button');
        dot.className = 'carousel-dot' + (i === 0 ? ' active' : '');
        dot.setAttribute('aria-label', 'Go to slide ' + (i + 1));
        dot.addEventListener('click', () => {
          stopAutoplay();
          goToSlide(i);
          startAutoplay();
        });
        dotsContainer.appendChild(dot);
      });

      const dots = dotsContainer.querySelectorAll('.carousel-dot');

      function goToSlide(index) {
        // Remove active from current slide
        slides[currentSlide].classList.remove('active');
        
        currentSlide = index;
        track.style.transform = 'translateX(-' + (currentSlide * 100) + '%)';
        
        // Add active to new slide (triggers Ken Burns effect)
        slides[currentSlide].classList.add('active');
        
        dots.forEach((dot, i) => {
          dot.classList.toggle('active', i === currentSlide);
        });
      }

      function nextSlide() {
        goToSlide((currentSlide + 1) % slides.length);
      }

      function prevSlide() {
        goToSlide((currentSlide - 1 + slides.length) % slides.length);
      }

      function startAutoplay() {
        autoplayInterval = setInterval(nextSlide, 5000);
      }

      function stopAutoplay() {
        clearInterval(autoplayInterval);
      }

      // Navigation buttons
      prevBtn.addEventListener('click', () => {
        stopAutoplay();
        prevSlide();
        startAutoplay();
      });

      nextBtn.addEventListener('click', () => {
        stopAutoplay();
        nextSlide();
        startAutoplay();
      });

      // Touch/swipe support
      let touchStartX = 0;
      let touchEndX = 0;

      track.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
        stopAutoplay();
      }, { passive: true });

      track.addEventListener('touchend', (e) => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
        startAutoplay();
      }, { passive: true });

      function handleSwipe() {
        const diff = touchStartX - touchEndX;
        if (Math.abs(diff) > 50) {
          if (diff > 0) {
            nextSlide();
          } else {
            prevSlide();
          }
        }
      }

      // Pause on hover
      const carousel = document.getElementById('photo-carousel');
      carousel.addEventListener('mouseenter', stopAutoplay);
      carousel.addEventListener('mouseleave', startAutoplay);

      // Keyboard navigation
      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight') {
          stopAutoplay();
          nextSlide();
          startAutoplay();
        } else if (e.key === 'ArrowLeft') {
          stopAutoplay();
          prevSlide();
          startAutoplay();
        }
      });

      startAutoplay();
    })();

    // Lightbox functionality for home page travel grid
    (function() {
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightbox-img');
      const lightboxCaption = document.getElementById('lightbox-caption');
      const photos = document.querySelectorAll('#home-travel-grid .photo-card');
      let currentIndex = 0;

      function openLightbox(index) {
        currentIndex = index;
        const photo = photos[currentIndex];
        const img = photo.querySelector('img');
        const title = photo.querySelector('.photo-card-title');
        const location = photo.querySelector('.photo-card-location');
        
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt;
        lightboxCaption.innerHTML = '<strong>' + title.textContent + '</strong> ‚Äî ' + location.textContent;
        lightbox.classList.add('open');
        document.body.style.overflow = 'hidden';
      }

      function closeLightbox() {
        lightbox.classList.remove('open');
        document.body.style.overflow = '';
      }

      function showNext() {
        currentIndex = (currentIndex + 1) % photos.length;
        openLightbox(currentIndex);
      }

      function showPrev() {
        currentIndex = (currentIndex - 1 + photos.length) % photos.length;
        openLightbox(currentIndex);
      }

      photos.forEach((photo, index) => {
        photo.style.cursor = 'pointer';
        photo.addEventListener('click', (e) => {
          e.preventDefault();
          openLightbox(index);
        });
      });

      document.querySelector('.lightbox-close').addEventListener('click', closeLightbox);
      document.querySelector('.lightbox-next').addEventListener('click', showNext);
      document.querySelector('.lightbox-prev').addEventListener('click', showPrev);

      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
      });

      document.addEventListener('keydown', (e) => {
        if (!lightbox.classList.contains('open')) return;
        if (e.key === 'Escape') closeLightbox();
        if (e.key === 'ArrowRight') showNext();
        if (e.key === 'ArrowLeft') showPrev();
      });
    })();
  </script>
  <!-- Lightbox modal (outside main-content for proper z-index) -->
  <div class="lightbox" id="lightbox" role="dialog" aria-modal="true" aria-label="Photo viewer">
    <button class="lightbox-close" aria-label="Close">&times;</button>
    <button class="lightbox-prev" aria-label="Previous photo">&#8249;</button>
    <button class="lightbox-next" aria-label="Next photo">&#8250;</button>
    <div class="lightbox-content">
      <img src="" alt="" id="lightbox-img">
      <div class="lightbox-caption" id="lightbox-caption"></div>
    </div>
  </div>
</body>
</html>
